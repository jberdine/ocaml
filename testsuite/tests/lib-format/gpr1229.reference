margin = 17
using print_if_newline:
before
  if newline
  after later
using print_string_if_newline:
before
  if newline
  after later

margin = 18
using print_if_newline:
before 
  after
        later
using print_string_if_newline:
before 
  after later

margin = 20
using print_if_newline:
before 
  after
        later
using print_string_if_newline:
before  after
   later

margin = 30
using print_if_newline:
before  after later
using print_string_if_newline:
before  after later

margin = 20
before
  broke
  after
  final
margin = 35
before     fits after final

margin = 22
before
  after
   broke
  final
margin = 23
before after fit final
